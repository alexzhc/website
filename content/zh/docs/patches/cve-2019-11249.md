---
title: CVE-2019-11249
short_description: |
  此漏洞可能允许恶意攻击者利用目录遍历（Directory Traversal）的方式将容器TAR包中的恶意文件写入或替换至所在主机上目标路径之外的其他位置，该过程仅受本地用户的系统权限限制。
---

{{< link text="详细信息" url="https://www.cvedetails.com/cve/CVE-2019-11249" >}}

此漏洞可能允许恶意攻击者利用目录遍历（Directory Traversal）的方式将容器TAR包中的恶意文件写入或替换至所在主机上目标路径之外的其他位置，该过程仅受本地用户的系统权限限制。

## 漏洞影响 {#scope}

该漏洞与不久前的 {{< link url="/docs/patches/cve-2019-1002101/" >}}, {{< link url="/docs/patches/cve-2019-11246/" >}} 漏洞影响相似，由于之前的相关漏洞修复。

`kubectl cp` 命令用于用户容器和主机之间的文件拷贝，当从容器中拷贝文件时，`Kubernetes` 会首先在容器中执行 `tar` 命令创建相应的归档文件，然后发送给客户端，`Kubectl` 会在用户主机上进行相应解压操作。

如果容器 `TAR` 包中包含恶意文件，当攻击者具有 `kubectl cp` 命令的执行权限时，可以利用目录遍历(Directory Traversal)。

## 官方修复的版本 {#official-fixed}

- 1.15.2
- 1.14.5
- 1.13.9

## KLTS 修复的版本 {#klts-fixed}

- 1.12.10-lts.1 {{< link text="CVE-2019-11249.1.12.patch" url="https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11249.1.12.patch" >}}
- 1.11.10-lts.1 {{< link text="CVE-2019-11249.1.12.patch" url="https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11249.1.12.patch" >}}
- 1.10.13-lts.1 {{< link text="CVE-2019-11249.1.10.patch" url="https://github.com/klts-io/kubernetes-lts/raw/master/patches/CVE-2019-11249.1.10.patch" >}}
